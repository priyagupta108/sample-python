name: Bug

on: push
jobs:
  reproduce:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v4
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: "3.11.8"
    - name: Set up
      run: |
        mkdir test
        echo "print('OK')" > test/a.py
        mkdir test1
        echo "print('OK')" > test1/a.py
    - name: Extend PYTHONPATH
      run: echo "PYTHONPATH=$PYTHONPATH:$(pwd)" >> $GITHUB_ENV
    - name: Print current working directory
      run: pwd
    - name: Print PYTHONPATH
      run: echo $PYTHONPATH
    - name: Print sys.path
      run: python -c "import sys; print(sys.path)"
    - name: Run OK
      run: python -m test1.a
    - name: Run Fail
      run: python -m test.a
